<div class="card text-center" style="width: 30rem;">
  <div class="card-body row">
    <div class="col-md-6">
      <span class="card-img-top"><%= user_gravatar @user %></span>
      <h5 class="card-title"><%= @user.name %></h5>
    </div>
    <div class="col-md-6 row">
      <% if !friendships_pending(@user) && !inverse_friendships_pending(@user) && !friends(@user) %>
        <%= button_to 'Add friend', friendships_path(id: @user.id), class: "btn btn-primary" if @user.id != current_user.id %>
      <% elsif friends(@user) %>
        <%= button_to 'Delete friend', friendship_path(id: @user.id), class: "btn btn-danger", method: :delete %>
      <% end %>
      <% if inverse_friendships_pending(@user) %>
        <%= button_to 'Accept', friendship_path(id: @user.id), class: "btn btn-primary", method: :put %>
        <%= button_to 'Reject', friendship_path(id: @user.id), class: "btn btn-primary", method: :delete %>
      <% end %>
      <% if friendships_pending(@user) %>
        <%= button_to 'Cancel request', friendship_path(id: @user.id), class: "btn btn-secondary", method: :delete %>
      <% end %>
    </div>
  </div>
</div>
<br>
<% if friends(@user) || current_user == @user %>
  <%= render 'posts/posts_list' %>
<% end %>
